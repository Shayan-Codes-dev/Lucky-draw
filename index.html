<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lucky Draw ğŸ‰</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #141e30, #243b55);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
}

.card-ui {
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(12px);
    border-radius: 20px;
    padding: 30px;
    width: 100%;
    max-width: 450px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,.3);
}

ul {
    list-style: none;
    padding: 0;
    max-height: 120px;
    overflow-y: auto;
}

li {
    background: rgba(255,255,255,.15);
    margin: 5px 0;
    padding: 8px;
    border-radius: 10px;
}

#winnerBox {
    display: none;
    margin-top: 20px;
    animation: pop .5s ease;
}

@keyframes pop {
    from {transform: scale(.5); opacity: 0;}
    to {transform: scale(1); opacity: 1;}
}

.winner {
    font-size: 1.8rem;
    font-weight: 700;
    color: gold;
}

img {
    width: 160px;
    border-radius: 15px;
}
</style>
</head>

<body>

<div class="card-ui">
    <h2>ğŸ‰ Lucky Draw ğŸ‰</h2>
    <p>Enter names & spin the luck!</p>

    <div class="input-group mb-3">
        <input id="nameInput" class="form-control" placeholder="Enter name">
        <button class="btn btn-warning" onclick="addName()">Add</button>
    </div>

    <ul id="list"></ul>

    <button class="btn btn-success w-100 mt-2" onclick="startDraw()">ğŸ¯ Draw Winner</button>
    <button class="btn btn-secondary w-100 mt-2" onclick="resetDraw()">ğŸ” Reset</button>

    <div id="winnerBox">
        <img src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif">
        <div class="winner" id="winnerName"></div>
    </div>
</div>

<script>
let names = [];
let interval;

function addName() {
    const input = document.getElementById("nameInput");
    const name = input.value.trim();

    if (name === "") return;

    names.push(name);
    input.value = "";
    renderList();
}

function renderList() {
    const ul = document.getElementById("list");
    ul.innerHTML = "";
    names.forEach(n => {
        const li = document.createElement("li");
        li.textContent = n;
        ul.appendChild(li);
    });
}

function startDraw() {
    if (names.length === 0) {
        alert("Add at least one name!");
        return;
    }

    document.getElementById("winnerBox").style.display = "none";

    let counter = 0;

    interval = setInterval(() => {
        // ğŸ² Math.random() in action
        let randomIndex = Math.floor(Math.random() * names.length);
        document.getElementById("winnerName").textContent = names[randomIndex];
        counter++;

        if (counter > 20) { // stop rolling
            clearInterval(interval);
            showFinalWinner();
        }
    }, 100);
}

function showFinalWinner() {
    const finalIndex = Math.floor(Math.random() * names.length);
    const winner = names[finalIndex];

    document.getElementById("winnerName").textContent = `ğŸ† ${winner} ğŸ†`;
    document.getElementById("winnerBox").style.display = "block";
}

function resetDraw() {
    names = [];
    renderList();
    document.getElementById("winnerBox").style.display = "none";
}
</script>

</body>
</html>
